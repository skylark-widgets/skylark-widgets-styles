/**
 * skylark-widgets-styles - The skylark style widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-styles/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-query","skylark-domx-eventer","skylark-domx-plugins-popups","skylark-graphics-colors/Color","skylark-domx-plugins-colors/ColorPane","skylark-widgets-base/widget","./styles","./colorpane.tpl"],function(e,t,s,n,i,l,a,o,r){"use strict";var h=a.inherit({klassName:"ColorChooser",_construct:function(e){a.prototype._construct.call(this,e,"input"),this._elm.type="text",this._elm.style.outline="none",this._elm.style.borderStyle="none",this._elm.style.boxSizing="border-box",this._elm.style.textIndent="4px",this._elm.style.borderRadius="4px",this._elm.style.boxShadow="none",this._elm.style.MozAppearance="textfield",this._elm.style.webkitAppearance="caret",this._elm.style.appearance="textfield";var o=this;this.listenTo(this._velm,"change",function(){o._value=i.parse(o._velm.val()),o.emit("change",o._value)}),this.$pane=t(r),t("body").append(this.$pane),this._picker=l.instantiate(this.$pane[0],{pane:{states:{showInput:!1}}}),this.listenTo(this._picker,"change",function(){o._value=i.parse(o._velm.val()),o.emit("change",o._value)});var h=!0;function c(){h&&(h=!1,o.$pane.hide())}c(),this.listenTo(this._velm,"click touchstart",function(e){h?c():h||(h=!0,o.$pane.show(),o.$pane.css("position","absolute"),o.$pane.offset(n.calcOffset(o.$pane[0],o._elm))),s.stop(e)}),this.listenTo(this._picker,"picked",(e,t)=>{o._value=t,o._velm.css("background-color",t.toRgbString()),o._velm.val(t.toHexString()),o.emit("change",t)}),this.listenTo(this._picker,"canceled choosed",e=>{c()}),this.onChange=null},setOnChange:function(e){this.on("change",this.onChange=e)},setValue:function(e){this._value=i.parse(e),this._velm.val(this._value.toHexString())},getValueString:function(e){return this._value.toHexString()},getValue:function(){return this._value},getValueHex:function(){return this._value.toNumber()}});return o.ColorChooser=h});
//# sourceMappingURL=sourcemaps/color-chooser.js.map
