/**
 * skylark-widgets-styles - The skylark style widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-styles/
 * @license MIT
 */
!function(t,e){var s=e.define,require=e.require,o="function"==typeof s&&s.amd,i=!o&&"undefined"!=typeof exports;if(!o&&!s){var n={};s=e.define=function(t,e,s){"function"==typeof s?(n[t]={factory:s,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var s=e.split("/"),o=t.split("/");s.pop();for(var i=0;i<o.length;i++)"."!=o[i]&&(".."==o[i]?s.pop():s.push(o[i]));return s.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):n[t]={factory:null,resolved:!0,exports:s}},require=e.require=function(t){if(!n.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=n[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(e,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-widgets-styles/styles",["skylark-langx/skylark"],function(t){return t.attach("widgets.styles",{})}),t("skylark-widgets-styles/ColorChooser",["skylark-domx-colors/colorer","skylark-widgets-base/Widget","./styles"],function(t,e,s){"use strict";var o=e.inherit({klassName:"ColorChooser",_construct:function(s){e.prototype._construct.call(this,s,"input"),this._elm.type="text",this._elm.style.outline="none",this._elm.style.borderStyle="none",this._elm.style.boxSizing="border-box",this._elm.style.textIndent="4px",this._elm.style.borderRadius="4px",this._elm.style.boxShadow="none",this._elm.style.MozAppearance="textfield",this._elm.style.webkitAppearance="caret",this._elm.style.appearance="textfield",this.color=t(this._elm),this.onChange=null},setOnChange:function(t){this._elm.onchange=t},setValue:function(t,e,s){this.color.set({r:255*t,g:255*e,b:255*s})},setValueHex:function(t){t=Math.floor(t),this.color.set({r:t>>16&255,g:t>>8&255,b:255&t})},setValueString:function(t){this.color.set(t)},getValueString:function(t){return this.color.toHEXString()},getValue:function(){return{r:this.color.rgb[0]/255,g:this.color.rgb[1]/255,b:this.color.rgb[2]/255}},getValueHex:function(){return this.color.rgb[0]<<16^this.color.rgb[1]<<8^this.color.rgb[2]<<0}});return s.ColorChooser=o}),t("skylark-widgets-styles/ColorGradientChooser",["skylark-graphics-color","skylark-domx-colors/colorer","skylark-widgets-base/Widget","./styles"],function(t,e,s,o){"use strict";var i=s.inherit({klassName:"ColorGradientChooser",_construct:function(t){s.prototype._construct.call(this,t,"div"),this.onChange=null,this.values=[],this.buttons=[],this._elm.style.overflow="hidden",this._elm.style.backgroundColor=Editor.theme.panelColor,this._elm.style.borderStyle="none",this._elm.style.boxSizing="border-box",this._elm.style.borderRadius="4px",this._elm.style.zIndex="2000",this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.width="100%",this.canvas.style.height="100%",this._elm.appendChild(this.canvas)},updateButtons:function(){var t=this;function s(){var e=this.color.rgb;t.values[this.index].setRGB(e[0]/255,e[1]/255,e[2]/255),t.updateValues(),null!==t.onChange&&t.onChange(t.values[this.index],this.index)}for(;this.buttons.length>this.values.length;)this._elm.removeChild(this.buttons.shift());for(;this.buttons.length<this.values.length;){var o=document.createElement("input");o.type="text",o.style.display="block",o.style.position="absolute",o.style.top="0px",o.style.width="15px",o.style.height="100%",o.style.cursor="pointer",o.style.outline="none",o.style.borderStyle="none",o.style.boxSizing="border-box",o.style.borderRadius="2px",this._elm.appendChild(o);var i=e(o);o.onchange=s,o.color=i,o.index=-1,this.buttons.push(o)}for(var n=0;n<this.buttons.length;n++)this.buttons[n].index=n},updateValues:function(){for(var t=this.canvas.getContext("2d"),e=t.createLinearGradient(0,0,this.canvas.width,0),s=1/(this.values.length-1),o=0,i=(this.size.x-15)/(this.buttons.length-1),n=0,l=0;l<this.values.length;l++)e.addColorStop(o,this.values[l].getStyle()),this.buttons[l].color.set({r:255*this.values[l].r,g:255*this.values[l].g,b:255*this.values[l].b}),this.buttons[l].style.left=n+"px",o+=s,n+=i;t.fillStyle=e,t.fillRect(0,0,this.canvas.width,this.canvas.height)},setOnChange:function(t){this.onChange=t},setValue:function(t){this.values=[];for(var e=0;e<t.length;e++){var s=new THREE.Color;s.copy(t[e]),this.values.push(s)}this.updateButtons(),this.updateValues()},getValue:function(){return this.values},updateSize:function(){s.prototype.updateSize.call(this),this.canvas.width=this.size.x,this.canvas.height=this.size.y,this.updateValues()}});return o.ColorGradientChooser=i}),t("skylark-widgets-styles/main",["./styles","./ColorChooser","./ColorGradientChooser"],function(t){return t}),t("skylark-widgets-styles",["skylark-widgets-styles/main"],function(t){return t})}(s),!o){var l=require("skylark-langx-ns");i?module.exports=l:e.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-widgets-styles.js.map
