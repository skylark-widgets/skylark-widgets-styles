/**
 * skylark-widgets-styles - The skylark style widgets library
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-styles/
 * @license MIT
 */
!function(t,s){var e=s.define,require=s.require,i="function"==typeof e&&e.amd,l=!i&&"undefined"!=typeof exports;if(!i&&!e){var n={};e=s.define=function(t,s,e){"function"==typeof e?(n[t]={factory:e,deps:s.map(function(s){return function(t,s){if("."!==t[0])return t;var e=s.split("/"),i=t.split("/");e.pop();for(var l=0;l<i.length;l++)"."!=i[l]&&(".."==i[l]?e.pop():e.push(i[l]));return e.join("/")}(s,t)}),resolved:!1,exports:null},require(t)):n[t]={factory:null,resolved:!0,exports:e}},require=s.require=function(t){if(!n.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=n[t];if(!module.resolved){var e=[];module.deps.forEach(function(t){e.push(require(t))}),module.exports=module.factory.apply(s,e)||null,module.resolved=!0}return module.exports}}if(!e)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-widgets-styles/styles",["skylark-langx/skylark"],function(t){return t.attach("widgets.styles",{})}),t("skylark-widgets-styles/colorpane.tpl",[],function(){return["<div class='sp-container'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>","</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}),t("skylark-widgets-styles/ColorChooser",["skylark-langx/langx","skylark-domx-query","skylark-domx-eventer","skylark-domx-popups","skylark-graphics-colors/Color","skylark-domx-colors/ColorPane","skylark-widgets-base/Widget","./styles","./colorpane.tpl"],function(t,s,e,i,l,n,a,o,r){"use strict";var h=a.inherit({klassName:"ColorChooser",_construct:function(t){a.prototype._construct.call(this,t,"input"),this._elm.type="text",this._elm.style.outline="none",this._elm.style.borderStyle="none",this._elm.style.boxSizing="border-box",this._elm.style.textIndent="4px",this._elm.style.borderRadius="4px",this._elm.style.boxShadow="none",this._elm.style.MozAppearance="textfield",this._elm.style.webkitAppearance="caret",this._elm.style.appearance="textfield";var o=this;this.listenTo(this._velm,"change",function(){o._value=l.parse(o._velm.val()),o.emit("change",o._value)}),this.listenTo(this._picker,"change",function(){o._value=l.parse(o._velm.val()),o.emit("change",o._value)}),this.$pane=s(r),s("body").append(this.$pane),this._picker=n.instantiate(this.$pane[0],{pane:{states:{showInput:!1}}});var h=!0;function c(){h&&(h=!1,o.$pane.hide())}c(),this.listenTo(this._velm,"click touchstart",function(t){h?c():function(){if(h)return;h=!0,o.$pane.show(),o.$pane.css("position","absolute"),o.$pane.offset(i.calcOffset(o.$pane[0],o._elm))}(),e.stop(t)}),this.listenTo(this._picker,"picked",(t,s)=>{o._value=s,o._velm.css("background-color",s.toRgbString()),o._velm.val(s.toHexString()),o.emit("change",s)}),this.listenTo(this._picker,"canceled choosed",t=>{c()}),this.onChange=null},setOnChange:function(t){this.on("change",this.onChange=t)},setValue:function(t){this._value=l.parse(t),this._velm.val(this._value.toHexString())},getValueString:function(t){return this._value.toHexString()},getValue:function(){return this._value},getValueHex:function(){return this._value.toNumber()}});return o.ColorChooser=h}),t("skylark-widgets-styles/ColorGradientChooser",["skylark-graphics-colors/Color","skylark-domx-colors/colorer","skylark-widgets-base/Widget","./styles"],function(t,s,e,i){"use strict";var l=e.inherit({klassName:"ColorGradientChooser",_construct:function(t){e.prototype._construct.call(this,t,"div"),this.onChange=null,this.values=[],this.buttons=[],this._elm.style.overflow="hidden",this._elm.style.backgroundColor=Editor.theme.panelColor,this._elm.style.borderStyle="none",this._elm.style.boxSizing="border-box",this._elm.style.borderRadius="4px",this._elm.style.zIndex="2000",this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.style.width="100%",this.canvas.style.height="100%",this._elm.appendChild(this.canvas)},updateButtons:function(){var t=this;function e(){var s=this.color.rgb;t.values[this.index].setRGB(s[0]/255,s[1]/255,s[2]/255),t.updateValues(),null!==t.onChange&&t.onChange(t.values[this.index],this.index)}for(;this.buttons.length>this.values.length;)this._elm.removeChild(this.buttons.shift());for(;this.buttons.length<this.values.length;){var i=document.createElement("input");i.type="text",i.style.display="block",i.style.position="absolute",i.style.top="0px",i.style.width="15px",i.style.height="100%",i.style.cursor="pointer",i.style.outline="none",i.style.borderStyle="none",i.style.boxSizing="border-box",i.style.borderRadius="2px",this._elm.appendChild(i);var l=s(i);i.onchange=e,i.color=l,i.index=-1,this.buttons.push(i)}for(var n=0;n<this.buttons.length;n++)this.buttons[n].index=n},updateValues:function(){for(var t=this.canvas.getContext("2d"),s=t.createLinearGradient(0,0,this.canvas.width,0),e=1/(this.values.length-1),i=0,l=(this.size.x-15)/(this.buttons.length-1),n=0,a=0;a<this.values.length;a++)s.addColorStop(i,this.values[a].getStyle()),this.buttons[a].color.set({r:255*this.values[a].r,g:255*this.values[a].g,b:255*this.values[a].b}),this.buttons[a].style.left=n+"px",i+=e,n+=l;t.fillStyle=s,t.fillRect(0,0,this.canvas.width,this.canvas.height)},setOnChange:function(t){this.onChange=t},setValue:function(s){this.values=[];for(var e=0;e<s.length;e++){var i=new t;i.copy(s[e]),this.values.push(i)}this.updateButtons(),this.updateValues()},getValue:function(){return this.values},updateSize:function(){e.prototype.updateSize.call(this),this.canvas.width=this.size.x,this.canvas.height=this.size.y,this.updateValues()}});return i.ColorGradientChooser=l}),t("skylark-widgets-styles/main",["./styles","./ColorChooser","./ColorGradientChooser"],function(t){return t}),t("skylark-widgets-styles",["skylark-widgets-styles/main"],function(t){return t})}(e),!i){var a=require("skylark-langx-ns");l?module.exports=a:s.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-widgets-styles.js.map
